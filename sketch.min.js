var myRec=new p5.SpeechRec,myVoice=new p5.Speech;let model;myRec.continuous=!0;let x,y,strokePath,previous_pen="down";function setup(){createCanvas(640,480),background(220),model=ml5.SketchRNN("cat",modelReady),select("#clear").mousePressed(startDrawing),textSize(32),textAlign(CENTER),text("say something",width/2,height/2),myRec.onResult=showResult,myRec.start(),myVoice.speak("say something")}function startDrawing(){background(220),x=width/2,y=height/2,model.reset(),model.generate(gotStroke)}function draw(){strokePath&&("down"==previous_pen&&(stroke(0),strokeWeight(3),line(x,y,x+strokePath.dx,y+strokePath.dy)),x+=strokePath.dx,y+=strokePath.dy,previous_pen=strokePath.pen,"end"!==strokePath.pen&&(strokePath=null,model.generate(gotStroke)))}function gotStroke(e,t){strokePath=t}function modelReady(){select("#status").html("model ready"),startDrawing()}function showResult(){!0===myRec.resultValue&&(background(255),text(myRec.resultString,width/2,height/2),myVoice.speak(myRec.resultString),console.log(myRec.resultString))}